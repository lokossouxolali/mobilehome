{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="message {% if message.tags %}{{ message.tags }}{% endif %}" data-message-id="{{ forloop.counter }}">
        <div class="message-icon">
            {% if message.tags == 'success' %}
                <i class="fas fa-check"></i>
            {% elif message.tags == 'error' %}
                <i class="fas fa-times"></i>
            {% elif message.tags == 'warning' %}
                <i class="fas fa-exclamation-triangle"></i>
            {% elif message.tags == 'info' %}
                <i class="fas fa-info"></i>
            {% else %}
                <i class="fas fa-bell"></i>
            {% endif %}
        </div>
        <div class="message-content">
            {{ message }}
        </div>
        <button class="message-close" onclick="closeMessage(this)">
            <i class="fas fa-times"></i>
        </button>
    </div>
    {% endfor %}
</div>

<script>
// Auto-hide messages after 5 seconds
document.addEventListener('DOMContentLoaded', function() {
    const messages = document.querySelectorAll('.message');
    messages.forEach(function(message) {
        setTimeout(function() {
            if (message && !message.classList.contains('hiding')) {
                closeMessage(message.querySelector('.message-close'));
            }
        }, 5000);
    });
});

// Close message function
function closeMessage(closeButton) {
    const message = closeButton.closest('.message');
    if (message) {
        message.classList.add('hiding');
        setTimeout(function() {
            message.remove();
        }, 300);
    }
}

// Close all messages
function closeAllMessages() {
    const messages = document.querySelectorAll('.message');
    messages.forEach(function(message) {
        closeMessage(message.querySelector('.message-close'));
    });
}
</script>
{% endif %}
